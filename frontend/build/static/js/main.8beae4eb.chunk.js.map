{"version":3,"sources":["avocado.PNG","components/Result.js","components/Footer.js","components/WelcomeElement.js","components/ImageCarousel.js","components/Steps.js","App.js","reportWebVitals.js","index.js"],"names":["Graph","props","response","result","summary","to_percentage","val","toFixed","probabilities","map","probability","ripeness","category","replace","data","labels","categories","datasets","backgroundColor","borderWidth","label","Grid","textAlign","Row","Popup","content","header","trigger","Header","as","Segment","basic","style","height","options","maintainAspectRatio","NotVisibleMessage","Fragment","Result","out","loading","Loader","active","fruit_visible","placeholder","year","Date","getFullYear","Footer","inverted","vertical","padding","width","bottom","flex","Container","divided","stackable","Column","List","horizontal","verticalAlign","Item","href","Icon","name","TakePicture","Button","htmlFor","id","type","accept","capture","hidden","onChange","onClick","UploadImage","multiple","WelcomeElement","element","allowCamera","columns","Divider","icon","cameraInputRef","useRef","current","click","ref","imageInputRef","AddPhoto","wide","flowing","size","on","mouseEnterDelay","mouseLeaveDelay","Group","compact","Or","ImageCarousel","isDesktopOrLaptop","useMediaQuery","minDeviceWidth","images","onPredictPressed","onAddPressed","useState","imageUrls","setImageUrls","useEffect","forEach","url","URL","revokeObjectURL","urls","image","createObjectURL","RemoveButton","color","circular","position","top","left","imageUrl","index","Image","Content","centered","rounded","src","onRemovePressed","length","disabled","Steps","status","Step","unstackable","Title","App","uploadedImages","setUploadedImages","setStatus","setResponse","error","setError","timer","setTimeout","clearTimeout","handleImageUploaded","event","preventDefault","prevImages","target","files","handlePredictPressed","FormData","i","append","fetch","method","body","then","res","json","catch","err","console","ErrorMessage","visible","Transition","animation","duration","right","Message","negative","handleImageRemoved","Array","from","splice","Body","isBrowser","padded","display","minHeight","flexDirection","avocado","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8beae4eb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avocado.9fb67f28.PNG\";","import React from \"react\";\nimport { Pie } from \"react-chartjs-2\";\nimport { Grid, Loader, Header, Popup, Segment } from \"semantic-ui-react\";\n\nconst Graph = (props) => {\n  const NUM_DP = 2;\n  const { result, summary } = props.response;\n\n  const to_percentage = (val) => (val * 100).toFixed(NUM_DP);\n  const probabilities = summary.probabilities.map(to_percentage);\n  const probability = to_percentage(result.probability);\n\n  const ripeness = result.category.replace(\"avocado_\", \"\"); // TODO: temp\n  const data = {\n    labels: summary.categories,\n    datasets: [\n      {\n        backgroundColor: [\"#d9a26f\", \"#b5ba6a\"],\n        borderWidth: 1,\n        label: \"TBA\",\n        data: probabilities,\n      },\n    ],\n  };\n  return (\n    <Grid textAlign=\"center\">\n      <Grid.Row>\n        <Popup\n          content={\n            \"The percentage indicates to what extent the 'AI' is certain about its prediction. It does not quantify the ripeness of the 🥑 as such.\"\n          }\n          header={\"What does this mean?\"}\n          trigger={\n            <Header as=\"h3\">\n              This 🥑 is <b>{ripeness}</b> with a {probability}% probability!\n            </Header>\n          }\n        />\n      </Grid.Row>\n      <Grid.Row>\n        <Segment basic style={{ height: \"50vh\" }}>\n          <Pie data={data} options={{ maintainAspectRatio: false }} />\n        </Segment>\n      </Grid.Row>\n    </Grid>\n  );\n};\n\n// const VisibleMessage = (props) => {\n//   const { result } = props.response;\n//   const probability = (result.probability * 100).toFixed(2);\n//   const ripeness = result.category.replace(\"avocado_\", \"\"); // TODO: temp\n//   return (\n//     <React.Fragment>\n//       <Header as=\"h3\">\n//         This 🥑 is <i>{ripeness}</i>\n//       </Header>\n//       <p>with a {probability}% probability</p>\n//     </React.Fragment>\n//   );\n// };\n\nconst NotVisibleMessage = () => (\n  <React.Fragment>\n    <Header as=\"h3\">Sorry, I was unable to spot any 🥑</Header>\n    <p>Could you try retaking the photo?</p>\n  </React.Fragment>\n);\n\nexport const Result = (props) => {\n  const { loading } = props;\n  let out;\n  if (loading) {\n    out = <Loader active content=\"Loading\" />;\n  } else if (props.response.fruit_visible) {\n    out = <Graph {...props} />;\n    // out = <VisibleMessage {...props} />;\n  } else {\n    out = <NotVisibleMessage />;\n  }\n\n  return <Segment placeholder>{out}</Segment>;\n};\n","import {\n  Segment,\n  Container,\n  Icon,\n  Grid,\n  Header,\n  List,\n} from \"semantic-ui-react\";\n\nconst URL_LINKEDIN = \"https://www.linkedin.com/in/filip-balucha/\";\nconst URL_GITHUB = \"https://github.com/filipbalucha\";\nconst URL_FACEBOOK = \"https://www.facebook.com/filiposlav\";\nconst EMAIL = \"balucha.filip2@gmail.com\";\nconst model = \"ResNet-18 CNN\";\nvar year = new Date().getFullYear();\n\nexport const Footer = (props) => {\n  return (\n    <Segment\n      inverted\n      vertical\n      style={{\n        padding: \"1.5em 0em\",\n        width: \"100%\",\n        bottom: 0,\n        flex: 1,\n      }}\n    >\n      <Container>\n        <Grid divided inverted stackable>\n          <Grid.Row>\n            <Grid.Column width={3}>\n              <Header inverted as=\"h4\" content=\"Author\" />\n              <p>Filip Balucha &copy;{year}</p>\n            </Grid.Column>\n            <Grid.Column width={10}>\n              <Header as=\"h4\" inverted>\n                Why?\n              </Header>\n              <p>\n                I struggle to tell ripe avocados from unripe ones, so I trained\n                a deep learning model based on the {model} to help me with the\n                task. Hope it can help you too 😊. Get in touch if you have any\n                requests or suggestions.\n              </p>\n            </Grid.Column>\n            <Grid.Column width={3}>\n              <Header as=\"h4\" inverted>\n                Contact\n              </Header>\n              <List horizontal inverted verticalAlign=\"middle\">\n                <List.Item href={URL_LINKEDIN}>\n                  <Icon name=\"linkedin\" />\n                </List.Item>\n                <List.Item href={URL_GITHUB}>\n                  <Icon name=\"github\" />\n                </List.Item>\n                <List.Item href={URL_FACEBOOK}>\n                  <Icon name=\"facebook\" />\n                </List.Item>\n                <List.Item href={`mailto: ${EMAIL}`}>\n                  <Icon name=\"mail\" />\n                </List.Item>\n              </List>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Container>\n    </Segment>\n  );\n};\n","import React from \"react\";\nimport {\n  Grid,\n  Button,\n  Header,\n  Divider,\n  Icon,\n  Segment,\n} from \"semantic-ui-react\";\n\nconst TakePicture = (props) => (\n  <React.Fragment>\n    <Button as=\"label\" htmlFor=\"cameraInput\" content=\"Take a Picture\" />\n    <input\n      id=\"cameraInput\"\n      type=\"file\"\n      accept=\"image/*\"\n      capture=\"environment\"\n      hidden\n      onChange={props.onClick}\n    />\n  </React.Fragment>\n);\n\nconst UploadImage = (props) => (\n  <React.Fragment>\n    <Button as=\"label\" htmlFor=\"libraryInput\" content=\"Upload an Image\" />\n    <input\n      id=\"libraryInput\"\n      type=\"file\"\n      accept=\"image/*\"\n      multiple\n      hidden\n      onChange={props.onClick}\n    />\n  </React.Fragment>\n);\n\nexport const WelcomeElement = (props) => {\n  const { allowCamera, onClick } = props;\n  let element;\n  if (!allowCamera) {\n    element = (\n      <Segment basic>\n        <Header icon>\n          <Icon name=\"images\" />\n        </Header>\n        <UploadImage onClick={onClick} />\n      </Segment>\n    );\n  } else {\n    element = (\n      <Grid columns={2} textAlign=\"center\">\n        <Divider vertical>Or</Divider>\n        <Grid.Row verticalAlign=\"middle\">\n          <Grid.Column>\n            <Header icon>\n              <Icon name=\"photo\" />\n            </Header>\n            <TakePicture onClick={onClick} />\n          </Grid.Column>\n          <Grid.Column>\n            <Header icon>\n              <Icon name=\"images\" />\n            </Header>\n            <UploadImage onClick={onClick} />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n  return <Segment placeholder>{element}</Segment>;\n};\n","import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  Button,\n  List,\n  Divider,\n  Segment,\n  Image,\n  Popup,\n} from \"semantic-ui-react\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst TakePicture = ({ onClick }) => {\n  const cameraInputRef = useRef(null);\n  return (\n    <React.Fragment>\n      <Button icon=\"camera\" onClick={() => cameraInputRef.current.click()} />\n      <input\n        ref={cameraInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        capture=\"environment\"\n        hidden\n        onChange={onClick}\n      />\n    </React.Fragment>\n  );\n};\n\nconst UploadImage = ({ onClick, icon }) => {\n  const imageInputRef = useRef(null);\n  return (\n    <React.Fragment>\n      <Button icon={icon} onClick={() => imageInputRef.current.click()} />\n      <input\n        ref={imageInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        multiple\n        hidden\n        onChange={onClick}\n      />\n    </React.Fragment>\n  );\n};\n\nconst AddPhoto = ({ allowCamera, onClick }) => {\n  if (!allowCamera) {\n    return <UploadImage onClick={onClick} icon=\"plus\" />;\n  } else {\n    return (\n      <Popup\n        wide\n        flowing\n        size=\"large\"\n        trigger={<Button icon=\"plus\" />}\n        on={[\"hover\", \"click\"]}\n        mouseEnterDelay={7000}\n        mouseLeaveDelay={7000}\n      >\n        <Button.Group compact>\n          <TakePicture onClick={onClick} icon=\"image\" />\n          <Button.Or />\n          <UploadImage onClick={onClick} />\n        </Button.Group>\n      </Popup>\n    );\n  }\n};\n\nexport const ImageCarousel = (props) => {\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 });\n  const MAX_IMAGES = 4;\n  const { images, onPredictPressed, onAddPressed, allowCamera } = props;\n  const [imageUrls, setImageUrls] = useState([]);\n\n  useEffect(() => {\n    // Revoke URLs to prevent memory leaks\n    // Source: post by Enioluwa Segun @https://stackoverflow.com/questions/57315551/react-uploading-multiple-images\n    imageUrls.forEach((url) => URL.revokeObjectURL(url));\n    const urls = images.map((image) => URL.createObjectURL(image));\n    setImageUrls(urls);\n  }, [images]);\n\n  const RemoveButton = (props) => {\n    return (\n      <Button\n        size=\"medium\"\n        icon=\"cancel\"\n        color=\"red\"\n        circular\n        style={{\n          position: \"absolute\",\n          top: 20,\n          left: 20,\n        }}\n        onClick={props.onClick}\n      />\n    );\n  };\n\n  return (\n    <Segment placeholder>\n      <List horizontal={isDesktopOrLaptop} verticalAlign=\"middle\">\n        {imageUrls.map((imageUrl, index) => (\n          <List.Item key={index}>\n            <Image />\n            <List.Content>\n              <Segment basic>\n                <Image centered rounded src={imageUrl} size=\"medium\" />\n                <RemoveButton onClick={() => props.onRemovePressed(index)} />\n              </Segment>\n            </List.Content>\n          </List.Item>\n        ))}\n        {images.length < MAX_IMAGES && (\n          <List.Item>\n            <Image />\n            <List.Content>\n              <AddPhoto allowCamera={allowCamera} onClick={onAddPressed} />\n            </List.Content>\n          </List.Item>\n        )}\n      </List>\n      <Divider />\n      <Button disabled={images.length === 0} onClick={onPredictPressed}>\n        Predict\n      </Button>\n    </Segment>\n  );\n};\n","import { Step, Icon } from \"semantic-ui-react\";\n\nexport const Steps = (props) => {\n  const { status } = props;\n  return (\n    <Step.Group unstackable>\n      <Step active={status === \"AWAIT\"}>\n        <Icon name=\"upload\" />\n        <Step.Content>\n          <Step.Title>Upload </Step.Title>\n        </Step.Content>\n      </Step>\n\n      <Step active={status !== \"AWAIT\"}>\n        <Icon name=\"magic\" />\n        <Step.Content>\n          <Step.Title>Predict</Step.Title>\n        </Step.Content>\n      </Step>\n    </Step.Group>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Header,\n  Image,\n  Segment,\n  Message,\n  Transition,\n  Container,\n} from \"semantic-ui-react\";\nimport avocado from \"./avocado.PNG\";\nimport { Result } from \"./components/Result\";\nimport { Footer } from \"./components/Footer\";\nimport { WelcomeElement } from \"./components/WelcomeElement\";\nimport { ImageCarousel } from \"./components/ImageCarousel\";\nimport { Steps } from \"./components/Steps\";\nimport { isBrowser } from \"react-device-detect\";\n\nfunction App() {\n  const [uploadedImages, setUploadedImages] = useState([]);\n  const [status, setStatus] = useState(\"AWAIT\");\n  const [response, setResponse] = useState();\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setStatus(\"AWAIT\");\n  }, [uploadedImages]);\n\n  useEffect(() => {\n    if (!error) return;\n    const timer = setTimeout(() => setError(false), 2500);\n    return () => clearTimeout(timer);\n  }, [error]);\n\n  const handleImageUploaded = (event) => {\n    event.preventDefault();\n    // Append image to list of images\n    setUploadedImages((prevImages) => [...prevImages, ...event.target.files]);\n  };\n\n  const handlePredictPressed = () => {\n    const data = new FormData();\n    uploadedImages.forEach((image, i) => {\n      data.append(\"file[]\", image);\n    });\n    setStatus(\"LOADING\");\n    fetch(\"/predict\", {\n      method: \"POST\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setTimeout(() => {\n          setResponse(data);\n          setStatus(\"FINISHED\");\n        }, 500); // TODO: simulate request timeout\n      })\n      .catch((err) => {\n        console.error(err);\n        setStatus(\"AWAIT\");\n        setError(true);\n      });\n  };\n\n  const ErrorMessage = ({ visible }) => {\n    const style = {\n      position: \"absolute\",\n      width: \"20vw\",\n      bottom: 10,\n      right: 10,\n    };\n    return (\n      <Transition visible={error} animation=\"fade up\" duration={500}>\n        <Container style={style}>\n          <Message negative>\n            <Message.Header>Server error</Message.Header>\n            <p>Please try again later</p>\n          </Message>\n        </Container>\n      </Transition>\n    );\n  };\n\n  const handleImageRemoved = (index) => {\n    if (index === -1) return;\n    const images = Array.from(uploadedImages);\n    images.splice(index, 1);\n    setUploadedImages(images);\n  };\n\n  const Body = () => {\n    // const { status, response, handlePredictPressed } = props; // TODO: decide if necessary\n    if (status !== \"AWAIT\")\n      return <Result loading={status === \"LOADING\"} response={response} />;\n    if (uploadedImages.length)\n      return (\n        <ImageCarousel\n          images={uploadedImages}\n          onPredictPressed={handlePredictPressed}\n          onAddPressed={handleImageUploaded}\n          onRemovePressed={handleImageRemoved}\n          allowCamera={!isBrowser}\n        />\n      );\n    return (\n      <WelcomeElement allowCamera={!isBrowser} onClick={handleImageUploaded} />\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <Segment\n        basic\n        padded=\"very\"\n        textAlign=\"center\"\n        style={{\n          display: \"flex\",\n          minHeight: \"100vh\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Image centered src={avocado} size=\"small\" />\n        <Header as=\"h1\">Know Your Avocado!</Header>\n        <p>Say No to Unripe Avocados.</p>\n        <Steps />\n        <Body />\n      </Segment>\n\n      <ErrorMessage visible={error} />\n\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}