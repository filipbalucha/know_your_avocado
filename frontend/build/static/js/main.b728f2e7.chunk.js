(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{162:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),o=n.n(c),r=n(64),i=n.n(r),s=n(29),l=n(344),j=n(191),d=n(343),b=n.p+"static/media/avocado.5eb1992f.PNG",u=n(330),h=n(345),O=n(338),x=n(59),m=n(348),p=Object(c.createContext)(),f=(new Date).getFullYear(),v=function(e){var t=Object(m.a)().t,n=Object(c.useContext)(p).darkMode,o=Object(c.useState)(null),r=Object(s.a)(o,2),i=r[0],j=r[1];fetch("/model_accuracy",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t,n=e.accuracy;j((t=n,Math.round(100*t)+"%"))})).catch((function(e){console.error(e)}));var b={padding:"1.5em 0em",width:"100%",bottom:0,flex:1};return n&&(b.borderTop="1px solid #C5844B"),Object(a.jsx)(l.a,{inverted:!0,vertical:!0,style:b,children:Object(a.jsx)(u.a,{children:Object(a.jsx)(h.a,{divided:!0,inverted:!0,stackable:!0,children:Object(a.jsxs)(h.a.Row,{children:[Object(a.jsxs)(h.a.Column,{width:3,children:[Object(a.jsx)(d.a,{inverted:!0,as:"h4",content:t("author")}),Object(a.jsxs)("p",{children:["Filip Balucha \xa9",f]})]}),Object(a.jsxs)(h.a.Column,{width:7,children:[Object(a.jsx)(d.a,{as:"h4",inverted:!0,content:t("why")}),Object(a.jsx)("p",{children:t("motivation",{model:"ResNet-18 CNN",accuracy:i})})]}),Object(a.jsxs)(h.a.Column,{width:3,children:[Object(a.jsx)(d.a,{inverted:!0,as:"h4",content:"Cookies"}),Object(a.jsx)("p",{children:t("cookie_use")})]}),Object(a.jsxs)(h.a.Column,{width:3,children:[Object(a.jsx)(d.a,{as:"h4",inverted:!0,content:t("contact")}),Object(a.jsxs)(O.a,{horizontal:!0,inverted:!0,verticalAlign:"middle",children:[Object(a.jsx)(O.a.Item,{href:"https://www.linkedin.com/in/filip-balucha/",children:Object(a.jsx)(x.a,{name:"linkedin"})}),Object(a.jsx)(O.a.Item,{href:"https://github.com/filipbalucha",children:Object(a.jsx)(x.a,{name:"github"})}),Object(a.jsx)(O.a.Item,{href:"https://www.facebook.com/filiposlav",children:Object(a.jsx)(x.a,{name:"facebook"})}),Object(a.jsx)(O.a.Item,{href:"mailto: ".concat("balucha.filip2@gmail.com"),children:Object(a.jsx)(x.a,{name:"mail"})})]}),Object(a.jsx)("p",{children:t("get_in_touch")})]})]})})})})},g=(n(340),n(335)),k=n(334),C=function(e){Object(c.useContext)(p).darkMode;return Object(a.jsx)(k.a.Dropdown,{inverted:!0,item:!0,button:!0,text:Object(a.jsx)(x.a,{name:"world"}),options:[{key:"English",text:"EN \ud83c\uddec\ud83c\udde7",value:"gb"},{key:"Slovak",text:"SK \ud83c\uddf8\ud83c\uddf0",value:"sk"}],onChange:function(t,n){var a=n.value;return e.setLanguage(a)}})},y=n(346),w=(n(162),function(e){var t=Object(c.useContext)(p),n=t.darkMode,r=t.setDarkMode,i={margin:10};return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(x.a,{name:"sun",style:i}),Object(a.jsx)(y.a,{checked:n,toggle:!0,onChange:function(e,t){var n=t.checked;return r(n)}}),Object(a.jsx)(x.a,{name:"moon",style:i})]})}),_=function(e){var t=Object(c.useContext)(p).darkMode,n=t?"#C5844B":"#d2d880";return Object(a.jsx)(g.a,{inverted:t,borderless:!0,fixed:"top",style:{borderBottom:"1px solid ".concat(n)},children:Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(g.a.Item,{header:!0,children:[Object(a.jsx)(j.a,{size:"mini",src:b,style:{marginRight:"1.5em"}}),"KYA!"]}),Object(a.jsx)(g.a.Item,{position:"right",children:Object(a.jsx)(w,{})}),Object(a.jsx)(g.a.Item,{children:Object(a.jsx)(C,{setLanguage:e.setLanguage})})]})})},I=n(154),A=n(192),S=n(188),M=n(333),z=n(342),F=n(331),T=(n(311),function(e){var t=e.response,n=t.result,c=t.summary,o=Object(m.a)().t,r=(100*n.probability).toFixed(2),i=o(n.category),s={labels:c.categories.map((function(e){return o(e)})),datasets:[{backgroundColor:["#d9a26f","#b5ba6a"],borderWidth:1,data:c.probabilities}]};return Object(a.jsxs)(h.a,{textAlign:"center",columns:"equal",children:[Object(a.jsx)(h.a.Row,{children:Object(a.jsx)(M.a,{content:"The percentage indicates to what extent the 'AI' is certain about its prediction. It does not quantify the ripeness of the \ud83e\udd51 as such.",header:"What does this mean?",trigger:Object(a.jsxs)(l.a,{basic:!0,children:[Object(a.jsxs)(d.a,{as:"h3",content:o(),children:[o("this_avocado")," ",Object(a.jsx)("i",{children:i})]}),Object(a.jsx)("p",{children:o("with_probability",{probability:r})})]})})}),Object(a.jsx)(h.a.Row,{children:Object(a.jsx)(l.a,{basic:!0,style:{height:"30vh"},children:Object(a.jsx)(S.Pie,{data:s,options:{maintainAspectRatio:!1,events:[],legend:{display:!1},plugins:{labels:{render:"label",fontColor:"white",fontSize:16}}}})})})]})}),N=function(e){var t=Object(m.a)().t;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(d.a,{as:"h3",content:t("cannot_spot")}),Object(a.jsx)("p",{children:t("retake_photo")})]})},P=function(e){var t=e.onClick,n=Object(c.useContext)(p).darkMode,o=Object(m.a)().t;return Object(a.jsxs)(z.a,{animated:!0,inverted:n,onClick:t,children:[Object(a.jsx)(z.a.Content,{visible:!0,content:o("back")}),Object(a.jsx)(z.a.Content,{hidden:!0,children:Object(a.jsx)(x.a,{name:"arrow left"})})]})},L=function(e){var t,n=e.loading,c=e.onBackClicked,r=Object(m.a)().t;return n?Object(a.jsx)(F.a,{active:!0,content:r("loading")}):(t=e.response.fruit_visible?Object(a.jsx)(T,Object(A.a)({},e)):Object(a.jsx)(N,{}),Object(a.jsxs)(o.a.Fragment,{children:[t,Object(a.jsx)(P,{onClick:c})]}))},D=n(332),E=function(e){var t=Object(c.useContext)(p).darkMode,n=Object(m.a)().t;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z.a,{as:"label",htmlFor:"cameraInput",content:n("take_picture"),inverted:t}),Object(a.jsx)("input",{id:"cameraInput",type:"file",accept:"image/*",capture:"environment",hidden:!0,onChange:e.onClick})]})},R=function(e){var t=Object(c.useContext)(p).darkMode,n=Object(m.a)().t;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z.a,{as:"label",htmlFor:"libraryInput",content:n("upload_image"),inverted:t}),Object(a.jsx)("input",{id:"libraryInput",type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:e.onClick})]})},B=function(e){var t=Object(c.useContext)(p).darkMode,n=Object(m.a)().t,o=e.allowCamera,r=e.onClick;return o?Object(a.jsxs)(h.a,{columns:2,textAlign:"center",children:[Object(a.jsx)(D.a,{inverted:t,vertical:!0,content:n("or")}),Object(a.jsxs)(h.a.Row,{verticalAlign:"middle",children:[Object(a.jsxs)(h.a.Column,{children:[Object(a.jsx)(d.a,{icon:!0,children:Object(a.jsx)(x.a,{name:"photo",inverted:t})}),Object(a.jsx)(E,{onClick:r})]}),Object(a.jsxs)(h.a.Column,{children:[Object(a.jsx)(d.a,{icon:!0,children:Object(a.jsx)(x.a,{name:"images",inverted:t})}),Object(a.jsx)(R,{onClick:r})]})]})]}):Object(a.jsxs)(l.a,{basic:!0,children:[Object(a.jsx)(d.a,{icon:!0,children:Object(a.jsx)(x.a,{name:"images",inverted:t})}),Object(a.jsx)(R,{onClick:r})]})},U=n(337),W=n(132),G=function(e){var t=e.onClick,n=Object(c.useRef)(null);return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z.a,{inverted:!0,icon:"camera",onClick:function(){return n.current.click()}}),Object(a.jsx)("input",{ref:n,type:"file",accept:"image/*",capture:"environment",hidden:!0,onChange:t})]})},q=function(e){var t=e.onClick,n=e.icon,r=Object(c.useRef)(null);return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z.a,{inverted:!0,icon:n,onClick:function(){return r.current.click()}}),Object(a.jsx)("input",{ref:r,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:t})]})},H=function(e){var t=e.allowCamera,n=e.onClick,o=Object(c.useContext)(p).darkMode;return t?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(z.a,{icon:"plus"}),flowing:!0,hoverable:!0,inverted:o,mouseEnterDelay:150,mouseLeaveDelay:150,children:Object(a.jsxs)(h.a,{divided:!0,columns:"equal",children:[Object(a.jsx)(h.a.Column,{children:Object(a.jsx)(G,{onClick:n})}),Object(a.jsx)(h.a.Column,{children:Object(a.jsx)(q,{onClick:n,icon:"image"})})]})}):Object(a.jsx)(q,{onClick:n,icon:"plus"})},K=function(e){var t=Object(W.useMediaQuery)({minDeviceWidth:1224}),n=e.images,r=e.onPredictPressed,i=e.onAddPressed,b=e.allowCamera,u=Object(c.useState)([]),h=Object(s.a)(u,2),f=h[0],v=h[1];Object(c.useEffect)((function(){f.forEach((function(e){return URL.revokeObjectURL(e)}));var e=n.map((function(e){return URL.createObjectURL(e)}));v(e)}),[n]);var g=function(e){return Object(a.jsx)(z.a,{inverted:!0,size:"medium",icon:"trash alternate",color:"red",circular:!0,style:{position:"absolute",top:20,left:20},onClick:e.onClick})},k=function(e){var t=Object(c.useContext)(p).darkMode,n=Object(m.a)().t,r=Object(c.useState)(!1),i=Object(s.a)(r,2),l=i[0],j=i[1];return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(z.a,{inverted:t,fluid:!0,animated:!0,onClick:function(){e.numImagesUploaded<2?j(!0):e.onClick()},children:[Object(a.jsx)(z.a.Content,{visible:!0,content:n("predict")}),Object(a.jsx)(z.a.Content,{hidden:!0,content:Object(a.jsx)(x.a,{name:"arrow right"})})]}),Object(a.jsxs)(U.a,{size:"tiny",open:l,onClose:function(){return j(!1)},children:[Object(a.jsx)(d.a,{icon:"camera",content:n("upload_extra")}),Object(a.jsx)(U.a.Content,{children:Object(a.jsx)("p",{children:n("upload_extra_detail")})}),Object(a.jsxs)(U.a.Actions,{children:[Object(a.jsxs)(z.a,{color:"red",onClick:function(){j(!1),e.onClick()},children:[Object(a.jsx)(x.a,{name:"remove"})," ",n("no")]}),Object(a.jsxs)(z.a,{color:"green",onClick:function(){return j(!1)},children:[Object(a.jsx)(x.a,{name:"checkmark"})," ",n("yes")]})]})]})]})};return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(O.a,{horizontal:t,verticalAlign:"middle",children:[f.map((function(t,n){return Object(a.jsxs)(O.a.Item,{children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(O.a.Content,{children:Object(a.jsxs)(l.a,{basic:!0,children:[Object(a.jsx)(j.a,{centered:!0,rounded:!0,src:t,size:"medium"}),Object(a.jsx)(g,{onClick:function(){return e.handleRemovePressed(n)}})]})})]},n)})),n.length<4&&Object(a.jsxs)(O.a.Item,{children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(O.a.Content,{children:Object(a.jsx)(H,{allowCamera:b,onClick:i})})]})]}),Object(a.jsx)(D.a,{}),Object(a.jsx)(k,{numImagesUploaded:n.length,onClick:r})]})},Y=n(152),J=function(e){var t=Object(c.useContext)(p).darkMode,n=e.status,o=e.setStatus,r=e.setError,i=Object(c.useState)([]),j=Object(s.a)(i,2),d=j[0],b=j[1],u=Object(c.useState)(),h=Object(s.a)(u,2),O=h[0],x=h[1];Object(c.useEffect)((function(){o("AWAIT")}),[d,o]);var m,f=function(e){e.preventDefault(),b((function(t){var n=[].concat(Object(I.a)(t),Object(I.a)(e.target.files)),a=n.map((function(e){return e.name}));return n=n.filter((function(e,t){return a.indexOf(e.name)===t}))}))};return m="AWAIT"!==n?Object(a.jsx)(L,{loading:"LOADING"===n,response:O,onBackClicked:function(){return o("AWAIT")}}):d.length?Object(a.jsx)(K,{images:d,onPredictPressed:function(){var e=new FormData;d.forEach((function(t,n){e.append("file[]",t)})),o("LOADING"),fetch("/predict",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){x(e),o("FINISHED")})).catch((function(e){console.error(e),o("AWAIT"),r(!0)}))},onAddPressed:f,handleRemovePressed:function(e){if(-1!==e){var t=Array.from(d);t.splice(e,1),b(t)}},allowCamera:!Y.isBrowser}):Object(a.jsx)(B,{allowCamera:!Y.isBrowser,onClick:f,darkMode:t}),Object(a.jsx)(l.a,{placeholder:!0,inverted:t,style:t?{backgroundColor:"#303030",borderColor:"#454545"}:null,content:m})},Q=n(336),V=n(339),X=function(e){var t=e.visible,n=Object(W.useMediaQuery)({minDeviceWidth:1224}),c=Object(m.a)().t,o=n?"fade left":"fade down",r=n?{position:"absolute",width:"20vw",bottom:"1em",right:"1em",opacity:.9}:{position:"fixed",width:"100%",top:15,left:0,right:0,opacity:.9,zIndex:2};return Object(a.jsx)(Q.a,{visible:t,animation:o,duration:500,children:Object(a.jsx)(u.a,{style:r,children:Object(a.jsxs)(V.a,{negative:!0,children:[Object(a.jsx)(V.a.Header,{children:c("server_error")}),Object(a.jsx)("p",{children:c("retry_later")})]})})})},Z=n(153),$=n(190),ee=n(101);Z.a.use($.a).use(ee.e).init({fallbackLng:"en",debug:!0,defaultNS:"translations",keySeparator:!1,react:{wait:!0},resources:{en:{translations:{motto:"Say No to Unripe Avocados.",upload:"Upload",predict:"Predict",upload_extra:"Upload more images?",upload_extra_detail:"Uploading an extra image can improve prediction. Would you like to do so?",no:"No",yes:"Yes",server_error:"Server error",retry_later:"Please try again later",why:"Why?",author:"Author",motivation:"I struggle to tell ripe avocados from unripe ones, so I trained a deep learning model based on the {{model}} with a {{accuracy}} accuracy to help with the task. Hope it can help you too \ud83d\ude0a",cookie_use:"This website doesn't use \ud83c\udf6a",contact:"Contact",get_in_touch:"Get in touch if you have any requests or suggestions \ud83d\udc4d\ud83c\udffc",take_picture:"Take a picture",upload_image:"Upload an image",or:"Or",loading:"Loading",avocado_ripe:"ripe",avocado_unripe:"unripe",with_probability:"with a {{probability}}% probability",this_avocado:"This \ud83e\udd51 is",cannot_spot:"Sorry, I was unable to spot any \ud83e\udd51",retake_photo:"Could you try retaking the photo?",back:"Back"}},sk:{translations:{motto:"Povedz nie nezrel\xfdm avok\xe1dam.",upload:"Nahra\u0165",predict:"Predpoveda\u0165",upload_extra:"Nahra\u0165 viac fotiek?",upload_extra_detail:"Nahraj e\u0161te jednu fotku a zlep\u0161i tak predikciu. Ide\u0161 do toho?",no:"Nie",yes:"\xc1no",server_error:"Chyba serveru",retry_later:"Sk\xfas to nesk\xf4r, pros\xedm",author:"Autor",why:"Ale... na\u010do?",motivation:"\u010casto neviem rozozna\u0165 zrel\xe9 avok\xe1do od nezrel\xe9ho, tak som sa rozhodol natr\xe9nova\u0165 model pomocou hlbok\xe9ho u\u010denia, aby mi s t\xfdm pomohol. Model je postaven\xfd na modeli {{model}} a m\xe1 {{accuracy}} presnos\u0165. D\xfafam, \u017ee pom\xf4\u017ee aj tebe \ud83d\ude0a",cookie_use:"T\xe1to str\xe1nka nepou\u017e\xedva \ud83c\udf6a",contact:"Kontakt",get_in_touch:"Ak m\xe1\u0161 n\xe1pad na zlep\u0161enie, tak ma ur\u010dite kontaktuj \ud83d\udc4d\ud83c\udffc",upload_image:"Nahraj fotku",take_picture:"Odfo\u0165 fotku",or:"Alebo",loading:"Na\u010d\xedtavam",avocado_ripe:"zrel\xe9",avocado_unripe:"nezrel\xe9",with_probability:"s {{probability}}% pravdepodobnos\u0165ou",this_avocado:"Toto \ud83e\udd51 je",cannot_spot:"Nevid\xedm \u017eiadne \ud83e\udd51",retake_photo:"Odfotil(a) by si ho e\u0161te raz, pros\xedm?",back:"Spa\u0165"}}}});var te=Z.a,ne=function(){var e=Object(c.useState)("AWAIT"),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(!1),i=Object(s.a)(r,2),u=i[0],h=i[1],O=Object(m.a)().t,x=Object(c.useState)(),f=Object(s.a)(x,2),g=f[0],k=f[1];Object(c.useEffect)((function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;k(e)}),[]),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){var t=e.matches;k(t)})),Object(c.useEffect)((function(){if(u){var e=setTimeout((function(){return h(!1)}),2500);return function(){return clearTimeout(e)}}}),[u]);return Object(a.jsxs)(p.Provider,{value:{darkMode:g,setDarkMode:k},children:[Object(a.jsxs)(l.a,{inverted:g,basic:!0,padded:"very",textAlign:"center",style:{paddingTop:"5em",display:"flex",minHeight:"100vh",flexDirection:"column",margin:0},children:[Object(a.jsx)(_,{setLanguage:function(e){te.changeLanguage(e)}}),Object(a.jsx)(j.a,{centered:!0,src:b,size:"small"}),Object(a.jsx)(d.a,{as:"h1",children:"Know Your Avocado!"}),Object(a.jsx)("p",{children:O("motto")}),Object(a.jsx)(J,{status:n,setStatus:o,setError:h})]}),Object(a.jsx)(X,{visible:u}),Object(a.jsx)(v,{})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,349)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};n(313);i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(c.Suspense,{fallback:Object(a.jsx)(c.Spinner,{}),children:Object(a.jsx)(ne,{})})}),document.getElementById("root")),ae()}},[[314,1,2]]]);
//# sourceMappingURL=main.b728f2e7.chunk.js.map