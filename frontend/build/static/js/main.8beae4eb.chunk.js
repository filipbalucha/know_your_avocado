(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{161:function(e,t,c){},264:function(e,t,c){"use strict";c.r(t);var n=c(2),i=c(0),a=c.n(i),r=c(45),s=c.n(r),o=(c(161),c(114)),j=c(49),l=c(282),b=c(279),d=c(285),u=c(290),h=c(145),O=c(289),x=c.p+"static/media/avocado.9fb67f28.PNG",m=c(146),f=c(139),p=c(288),g=c(281),v=c(278),C=function(e){var t=e.response,c=t.result,i=t.summary,a=function(e){return(100*e).toFixed(2)},r=i.probabilities.map(a),s=a(c.probability),o=c.category.replace("avocado_",""),j={labels:i.categories,datasets:[{backgroundColor:["#d9a26f","#b5ba6a"],borderWidth:1,label:"TBA",data:r}]};return Object(n.jsxs)(p.a,{textAlign:"center",children:[Object(n.jsx)(p.a.Row,{children:Object(n.jsx)(g.a,{content:"The percentage indicates to what extent the 'AI' is certain about its prediction. It does not quantify the ripeness of the \ud83e\udd51 as such.",header:"What does this mean?",trigger:Object(n.jsxs)(O.a,{as:"h3",children:["This \ud83e\udd51 is ",Object(n.jsx)("b",{children:o})," with a ",s,"% probability!"]})})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsx)(u.a,{basic:!0,style:{height:"50vh"},children:Object(n.jsx)(f.Pie,{data:j,options:{maintainAspectRatio:!1}})})})]})},k=function(){return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(O.a,{as:"h3",children:"Sorry, I was unable to spot any \ud83e\udd51"}),Object(n.jsx)("p",{children:"Could you try retaking the photo?"})]})},w=function(e){var t;return t=e.loading?Object(n.jsx)(v.a,{active:!0,content:"Loading"}):e.response.fruit_visible?Object(n.jsx)(C,Object(m.a)({},e)):Object(n.jsx)(k,{}),Object(n.jsx)(u.a,{placeholder:!0,children:t})},y=c(283),A=c(39),I=(new Date).getFullYear(),T=function(e){return Object(n.jsx)(u.a,{inverted:!0,vertical:!0,style:{padding:"1.5em 0em",width:"100%",bottom:0,flex:1},children:Object(n.jsx)(b.a,{children:Object(n.jsx)(p.a,{divided:!0,inverted:!0,stackable:!0,children:Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Column,{width:3,children:[Object(n.jsx)(O.a,{inverted:!0,as:"h4",content:"Author"}),Object(n.jsxs)("p",{children:["Filip Balucha \xa9",I]})]}),Object(n.jsxs)(p.a.Column,{width:10,children:[Object(n.jsx)(O.a,{as:"h4",inverted:!0,children:"Why?"}),Object(n.jsxs)("p",{children:["I struggle to tell ripe avocados from unripe ones, so I trained a deep learning model based on the ","ResNet-18 CNN"," to help me with the task. Hope it can help you too \ud83d\ude0a. Get in touch if you have any requests or suggestions."]})]}),Object(n.jsxs)(p.a.Column,{width:3,children:[Object(n.jsx)(O.a,{as:"h4",inverted:!0,children:"Contact"}),Object(n.jsxs)(y.a,{horizontal:!0,inverted:!0,verticalAlign:"middle",children:[Object(n.jsx)(y.a.Item,{href:"https://www.linkedin.com/in/filip-balucha/",children:Object(n.jsx)(A.a,{name:"linkedin"})}),Object(n.jsx)(y.a.Item,{href:"https://github.com/filipbalucha",children:Object(n.jsx)(A.a,{name:"github"})}),Object(n.jsx)(y.a.Item,{href:"https://www.facebook.com/filiposlav",children:Object(n.jsx)(A.a,{name:"facebook"})}),Object(n.jsx)(y.a.Item,{href:"mailto: ".concat("balucha.filip2@gmail.com"),children:Object(n.jsx)(A.a,{name:"mail"})})]})]})]})})})})},F=c(286),P=c(280),R=function(e){return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(F.a,{as:"label",htmlFor:"cameraInput",content:"Take a Picture"}),Object(n.jsx)("input",{id:"cameraInput",type:"file",accept:"image/*",capture:"environment",hidden:!0,onChange:e.onClick})]})},S=function(e){return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(F.a,{as:"label",htmlFor:"libraryInput",content:"Upload an Image"}),Object(n.jsx)("input",{id:"libraryInput",type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:e.onClick})]})},D=function(e){var t,c=e.allowCamera,i=e.onClick;return t=c?Object(n.jsxs)(p.a,{columns:2,textAlign:"center",children:[Object(n.jsx)(P.a,{vertical:!0,children:"Or"}),Object(n.jsxs)(p.a.Row,{verticalAlign:"middle",children:[Object(n.jsxs)(p.a.Column,{children:[Object(n.jsx)(O.a,{icon:!0,children:Object(n.jsx)(A.a,{name:"photo"})}),Object(n.jsx)(R,{onClick:i})]}),Object(n.jsxs)(p.a.Column,{children:[Object(n.jsx)(O.a,{icon:!0,children:Object(n.jsx)(A.a,{name:"images"})}),Object(n.jsx)(S,{onClick:i})]})]})]}):Object(n.jsxs)(u.a,{basic:!0,children:[Object(n.jsx)(O.a,{icon:!0,children:Object(n.jsx)(A.a,{name:"images"})}),Object(n.jsx)(S,{onClick:i})]}),Object(n.jsx)(u.a,{placeholder:!0,children:t})},L=c(144),W=function(e){var t=e.onClick,c=Object(i.useRef)(null);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(F.a,{icon:"camera",onClick:function(){return c.current.click()}}),Object(n.jsx)("input",{ref:c,type:"file",accept:"image/*",capture:"environment",hidden:!0,onChange:t})]})},E=function(e){var t=e.onClick,c=e.icon,r=Object(i.useRef)(null);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(F.a,{icon:c,onClick:function(){return r.current.click()}}),Object(n.jsx)("input",{ref:r,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:t})]})},N=function(e){var t=e.allowCamera,c=e.onClick;return t?Object(n.jsx)(g.a,{wide:!0,flowing:!0,size:"large",trigger:Object(n.jsx)(F.a,{icon:"plus"}),on:["hover","click"],mouseEnterDelay:7e3,mouseLeaveDelay:7e3,children:Object(n.jsxs)(F.a.Group,{compact:!0,children:[Object(n.jsx)(W,{onClick:c,icon:"image"}),Object(n.jsx)(F.a.Or,{}),Object(n.jsx)(E,{onClick:c})]})}):Object(n.jsx)(E,{onClick:c,icon:"plus"})},U=function(e){var t=Object(L.useMediaQuery)({minDeviceWidth:1224}),c=e.images,a=e.onPredictPressed,r=e.onAddPressed,s=e.allowCamera,o=Object(i.useState)([]),l=Object(j.a)(o,2),b=l[0],d=l[1];Object(i.useEffect)((function(){b.forEach((function(e){return URL.revokeObjectURL(e)}));var e=c.map((function(e){return URL.createObjectURL(e)}));d(e)}),[c]);var O=function(e){return Object(n.jsx)(F.a,{size:"medium",icon:"cancel",color:"red",circular:!0,style:{position:"absolute",top:20,left:20},onClick:e.onClick})};return Object(n.jsxs)(u.a,{placeholder:!0,children:[Object(n.jsxs)(y.a,{horizontal:t,verticalAlign:"middle",children:[b.map((function(t,c){return Object(n.jsxs)(y.a.Item,{children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(y.a.Content,{children:Object(n.jsxs)(u.a,{basic:!0,children:[Object(n.jsx)(h.a,{centered:!0,rounded:!0,src:t,size:"medium"}),Object(n.jsx)(O,{onClick:function(){return e.onRemovePressed(c)}})]})})]},c)})),c.length<4&&Object(n.jsxs)(y.a.Item,{children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(y.a.Content,{children:Object(n.jsx)(N,{allowCamera:s,onClick:r})})]})]}),Object(n.jsx)(P.a,{}),Object(n.jsx)(F.a,{disabled:0===c.length,onClick:a,children:"Predict"})]})},z=c(284),B=function(e){var t=e.status;return Object(n.jsxs)(z.a.Group,{unstackable:!0,children:[Object(n.jsxs)(z.a,{active:"AWAIT"===t,children:[Object(n.jsx)(A.a,{name:"upload"}),Object(n.jsx)(z.a.Content,{children:Object(n.jsx)(z.a.Title,{children:"Upload "})})]}),Object(n.jsxs)(z.a,{active:"AWAIT"!==t,children:[Object(n.jsx)(A.a,{name:"magic"}),Object(n.jsx)(z.a.Content,{children:Object(n.jsx)(z.a.Title,{children:"Predict"})})]})]})},G=c(113);var H=function(){var e=Object(i.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(i.useState)("AWAIT"),m=Object(j.a)(s,2),f=m[0],p=m[1],g=Object(i.useState)(),v=Object(j.a)(g,2),C=v[0],k=v[1],y=Object(i.useState)(!1),A=Object(j.a)(y,2),I=A[0],F=A[1];Object(i.useEffect)((function(){p("AWAIT")}),[c]),Object(i.useEffect)((function(){if(I){var e=setTimeout((function(){return F(!1)}),2500);return function(){return clearTimeout(e)}}}),[I]);var P=function(e){e.preventDefault(),r((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e.target.files))}))},R=function(){var e=new FormData;c.forEach((function(t,c){e.append("file[]",t)})),p("LOADING"),fetch("/predict",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){k(e),p("FINISHED")}),500)})).catch((function(e){console.error(e),p("AWAIT"),F(!0)}))},S=function(e){e.visible;return Object(n.jsx)(l.a,{visible:I,animation:"fade up",duration:500,children:Object(n.jsx)(b.a,{style:{position:"absolute",width:"20vw",bottom:10,right:10},children:Object(n.jsxs)(d.a,{negative:!0,children:[Object(n.jsx)(d.a.Header,{children:"Server error"}),Object(n.jsx)("p",{children:"Please try again later"})]})})})},L=function(e){if(-1!==e){var t=Array.from(c);t.splice(e,1),r(t)}},W=function(){return"AWAIT"!==f?Object(n.jsx)(w,{loading:"LOADING"===f,response:C}):c.length?Object(n.jsx)(U,{images:c,onPredictPressed:R,onAddPressed:P,onRemovePressed:L,allowCamera:!G.isBrowser}):Object(n.jsx)(D,{allowCamera:!G.isBrowser,onClick:P})};return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsxs)(u.a,{basic:!0,padded:"very",textAlign:"center",style:{display:"flex",minHeight:"100vh",flexDirection:"column"},children:[Object(n.jsx)(h.a,{centered:!0,src:x,size:"small"}),Object(n.jsx)(O.a,{as:"h1",children:"Know Your Avocado!"}),Object(n.jsx)("p",{children:"Say No to Unripe Avocados."}),Object(n.jsx)(B,{}),Object(n.jsx)(W,{})]}),Object(n.jsx)(S,{visible:I}),Object(n.jsx)(T,{})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,292)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))};c(263);s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root")),q()}},[[264,1,2]]]);
//# sourceMappingURL=main.8beae4eb.chunk.js.map